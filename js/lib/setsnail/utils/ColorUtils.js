ColorUtils={},ColorUtils.colorLuminance=function(r,t){r=String(r).replace(/[^0-9a-f]/gi,""),r.length<6&&(r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]),t=t||0;var n,o,e="#";for(o=0;o<3;o++)n=parseInt(r.substr(2*o,2),16),n=Math.round(Math.min(Math.max(0,n+n*t),255)).toString(16),e+=("00"+n).substr(n.length);return e},ColorUtils.rgb2hex=function(r){function t(r){return("0"+parseInt(r).toString(16)).slice(-2)}return r=r.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),"#"+t(r[1])+t(r[2])+t(r[3])},ColorUtils.hex2rgb=function(r){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},ColorUtils.interpolateColor=function(r,t,n,o){function e(r){return r.toString(16)}function a(r){return parseInt(r,16)}if(0===o)return r;if(o==n)return t;for(var u="#",i=1;i<=6;i+=2){for(var l=new Number(a(r.substr(i,2))),s=new Number(a(t.substr(i,2))),f=l+o/n*(s-l),c=e(Math.floor(f));c.length<2;)c="0"+c;u+=c}return u},ColorUtils.getRandomColor=function(){for(var r="0123456789ABCDEF".split(""),t="#",n=0;n<6;n++)t+=r[Math.round(15*Math.random())];return t},ColorUtils.interpolateRGB=function(r,t,n){function o(r,t,n){return r*(1-n)+t*n}var e={};return e.r=Math.floor(o(r.r,t.r,n)),e.g=Math.floor(o(r.g,t.g,n)),e.b=Math.floor(o(r.b,t.b,n)),e};