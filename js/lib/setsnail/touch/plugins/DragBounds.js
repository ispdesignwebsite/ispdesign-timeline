function DragBounds(s){function n(){var s={x:0,y:0};if(i&DragBounds.INSIDE)return s;for(var n=I.dragItems.length,a=I.bounds.x+I.bounds.width,d=I.bounds.y+I.bounds.height,e=null,o=0,t=0,r=0;r<n;r++){e=I.dragItems[r];var D=u(e),T=g(e),f=parseInt(e.style.width),B=parseInt(e.style.height);o=I.useItemsSize?f:0,t=I.useItemsSize?B:0,i&DragBounds.LEFT&&s.x<I.bounds.x-D&&(s.x=I.bounds.x-D),i&DragBounds.RIGHT&&s.x>a-D-o&&(s.x=a-D-o),i&DragBounds.TOP&&s.y<I.bounds.y-T&&(s.y=I.bounds.y-T),i&DragBounds.BOT&&s.y>d-T-t&&(s.y=d-T-t)}return s}function a(){for(var s=I.dragItems.length,n=null,a=0,d=0,e=I.bounds.x+I.bounds.width,o=null,t=0;t<s;t++)n=I.dragItems[t],a=I.useItemsSize?parseInt(n.style.width):0,d=u(n)+I.dragInfo.dist.x,d<I.bounds.x?(-1==f&&(f=I.easeInfo.easeRatio),o?u(n)<u(o)&&(o=n):o=n,i|=DragBounds.LEFT,E|=DragBounds.LEFT):d+a>e&&(-1==f&&(f=I.easeInfo.easeRatio),o?u(n)>u(o)&&(o=n):o=n,i|=DragBounds.RIGHT,E|=DragBounds.RIGHT);return o}function d(){for(var s=I.dragItems.length,n=null,a=0,d=0,e=I.bounds.y+I.bounds.height,o=null,t=0;t<s;t++)n=I.dragItems[t],a=I.useItemsSize?parseInt(n.style.height):0,d=g(n)+I.dragInfo.dist.y,d<I.bounds.y?(-1==B&&(B=I.easeInfo.easeRatio),o?g(n)<g(o)&&(o=n):o=n,i|=DragBounds.TOP,E|=DragBounds.TOP):d+a>e&&(-1==B&&(B=I.easeInfo.easeRatio),o?g(n)>g(o)&&(o=n):o=n,i|=DragBounds.BOT,E|=DragBounds.BOT);return o}function e(s){var n,a,d,e=I.bounds.x+I.bounds.width;s&&(n=I.useItemsSize?parseInt(s.style.width):0),E&DragBounds.LEFT?(a=t(f,1,I.easeInfo.easeRatio),a=I.easeEase.getRatio(a),d=I.bounds.x-u(s),y.x>0?(a=1-a,I.dragInfo.dist.x=-y.x,I.dragInfo.dist.x=d+I.dragInfo.dist.x*a):I.dragInfo.dist.x=d+I.dragInfo.dist.x*I.easeDist*Math.sin(a*Math.PI)):E&DragBounds.RIGHT&&(a=t(f,1,I.easeInfo.easeRatio),a=I.easeEase.getRatio(a),d=e-u(s)-n,y.x<0?(a=1-a,I.dragInfo.dist.x=-y.x,I.dragInfo.dist.x=d+I.dragInfo.dist.x*a):I.dragInfo.dist.x=d+I.dragInfo.dist.x*I.easeDist*Math.sin(a*Math.PI))}function o(s){var n,a,d,e=I.bounds.y+I.bounds.height;s&&(n=I.useItemsSize?parseInt(s.style.height):0),E&DragBounds.TOP?(a=t(B,1,I.easeInfo.easeRatio),a=I.easeEase.getRatio(a),d=I.bounds.y-g(s),y.y>0?(a=1-a,I.dragInfo.dist.y=-y.y,I.dragInfo.dist.y=d+I.dragInfo.dist.y*a):I.dragInfo.dist.y=d+I.dragInfo.dist.y*I.easeDist*Math.sin(a*Math.PI)):E&DragBounds.BOT&&(a=t(B,1,I.easeInfo.easeRatio),a=I.easeEase.getRatio(a),d=e-g(s)-n,y.y<0?(a=1-a,I.dragInfo.dist.y=-y.y,I.dragInfo.dist.y=d+I.dragInfo.dist.y*a):I.dragInfo.dist.y=d+I.dragInfo.dist.y*I.easeDist*Math.sin(a*Math.PI))}function t(s,n,a){var d=1/(n-s),e=d*a;return e-=s*d,e}function r(){var s="";if(!(h&DragBounds.INSIDE)&&i&DragBounds.INSIDE?s=DragBounds.STATE_INSIDE:!(h&DragBounds.LEFT)&&i&DragBounds.LEFT?s=DragBounds.STATE_OUTSIDE_LEFT:!(h&DragBounds.RIGHT)&&i&DragBounds.RIGHT?s=DragBounds.STATE_OUTSIDE_RIGHT:!(h&DragBounds.TOP)&&i&DragBounds.TOP?s=DragBounds.STATE_OUTSIDE_TOP:!(h&DragBounds.BOT)&&i&DragBounds.BOT&&(s=DragBounds.STATE_OUTSIDE_BOT),h=i,s)if(I.dispatchOnObjects)for(var n=I.dragItems.length,a=0;a<n;a++)I.dragItems[a].dispatchEvent(s);else I.dispatchEvent(s)}function u(s){return I.use3DTransform?s.aniGetX():parseFloat(s.style.left)}function g(s){return I.use3DTransform?s.aniGetY():parseFloat(s.style.top)}var I=new DraggerEasePlugin,i=DragBounds.INSIDE,D=null,T=null;I.boundsEase=0,I.easeDist=4,I.easeEase=Linear.easeNone,I.bounds=null,I.useItemsSize=!0,I.dispacthEvents=!1,I.dispatchOnObjects=!1,I.init=function(s){I.bounds=s};var f=-1,B=-1,E=DragBounds.UNKNOWN,y={};I.easeStarted=function(){f=-1,B=-1,D=null,T=null,y=n(),E=DragBounds.UNKNOWN},I.easeUpdated=function(){i=DragBounds.UNKNOWN,D||(D=a()),T||(T=d()),D&&e(D),T&&o(T),i||(i=DragBounds.INSIDE),I.dispacthEvents&&r()},I.easeEnded=function(){f=-1,B=-1,i=DragBounds.INSIDE},I.dragStarted=function(){I.boundsEase&&I.killTweens()},I.dragMove=function(){var s,n=I.dragItems.length,a=0,d=0,e=0,o=0,t=I.bounds.x+I.bounds.width,D=I.bounds.y+I.bounds.height;i=DragBounds.UNKNOWN;for(var T=0;T<n;T++){s=I.dragItems[T];var f=u(s),B=g(s);a=f+I.dragInfo.dist.x,d=B+I.dragInfo.dist.y,e=I.useItemsSize?parseInt(s.style.width):0,o=I.useItemsSize?parseInt(s.style.height):0,a<I.bounds.x?(I.boundsEase?I.dragInfo.dist.x*=I.boundsEase:I.dragInfo.dist.x=I.bounds.x-f,i|=DragBounds.LEFT):a+e>t&&(I.boundsEase?I.dragInfo.dist.x*=I.boundsEase:I.dragInfo.dist.x=t-f-e,i|=DragBounds.RIGHT),d<I.bounds.y?(I.boundsEase?I.dragInfo.dist.y*=I.boundsEase:I.dragInfo.dist.y=I.bounds.y-B,i|=DragBounds.TOP):d+o>D&&(I.boundsEase?I.dragInfo.dist.y*=I.boundsEase:I.dragInfo.dist.y=D-B-o,i|=DragBounds.BOT)}i||(i=DragBounds.INSIDE),I.dispacthEvents&&r()};var h=0;return I.init(s),I}DragBounds.STATE_INSIDE="INSIDE",DragBounds.STATE_OUTSIDE_TOP="OUTSIDE_TOP",DragBounds.STATE_OUTSIDE_BOT="OUTSIDE_BOT",DragBounds.STATE_OUTSIDE_LEFT="OUTSIDE_LEFT",DragBounds.STATE_OUTSIDE_RIGHT="OUTSIDE_RIGHT",DragBounds.UNKNOWN=0,DragBounds.INSIDE=1,DragBounds.TOP=2,DragBounds.BOT=4,DragBounds.LEFT=8,DragBounds.RIGHT=16;