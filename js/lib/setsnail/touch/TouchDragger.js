function TouchDragger(n,t){function o(){f=d.start,l=d.move,g=d.end,O=!1}function e(){dispose(),i()}function i(){D?addListenerTo(D):addListenerTo(v.getAllItems())}function c(n){void 0!==h&&h(n)}function r(n){if(p){var t=T?T.touch:n.touch;b=t.clientX,w=t.clientY,A=!0,f(),d.dispatchEvents&&d.dispatchEvent(TouchDragger.ON_START,{touchInfo:n})}}function u(n){if(p){var t=T?T.touch:n.touch;l(t.clientX-b,t.clientY-w),b=t.clientX,w=t.clientY,d.dispatchEvents&&d.dispatchEvent(TouchDragger.ON_MOVE,{touchInfo:n})}}function a(n){p&&(A=!1,g(),O&&o(),_&&(i(),T=null,_=!1),d.dispatchEvents&&d.dispatchEvent(TouchDragger.ON_END,{touchInfo:n}))}var d=new EventDispatcher;d.dispatchEvents=!0;var s,f,l,g,h,T,v=null,D=null,p=!1,E=[],N=!0,O=!1,_=!1,A=!1;d.init=function(n,t){v=n,D=t,v.addEventListener(GroupDragger.NUM_OF_ITEMS_CHANGEST,e),o(),null!=D?d.addListenerTo(D):d.addListenerTo(v.getAllItems()),d.activate()},d.enable3DTransform=function(){v.enable3DTransform()},d.add=function(n,t){v.addGroup(n,t),null!=D&&d.addListenerTo(n)},d.enableAutokill=function(){N=!0,E.forEach(function(n){n.enableAutokill()})},d.disableAutokill=function(){N=!1,E.forEach(function(n){n.disableAutoKill()})},d.dispose=function(){for(;0!==E.length;)E.pop().dispose()},d.onNewTouch=function(n){h=n},d.deactivate=function(){p=!1,A=!1},d.activate=function(){p=!0},d.isDragging=function(){return A},d.takeover=function(n,t){O=t,s=n,f=s.start,l=s.move,g=s.end},d.baseOn=function(n){_||(dispose(),n.onDown=r,n.onMove=u,n.onUp=a,T=n,_=!0)},d.addListenerTo=function(n){for(var t,o=n.length,e=0;e<o;e++)t=Touchable.listen(n[e],{onDown:r,onMove:u,onUp:a},N),t.onNewTouch(c),E.push(t)};var b=0,w=0;return d.start=function(){p&&v.dragStartet()},d.move=function(n,t){p&&v.updateDist(n,t)},d.end=function(){p&&v.dragEnded()},d.init(n,t),d}TouchDragger.add=function(n,t,o){return new TouchDragger(new GroupDragger([n],t),o)},TouchDragger.addGroup=function(n,t){return new TouchDragger(n,t)},TouchDragger.ON_START="ON_START",TouchDragger.ON_MOVE="ON_MOVE",TouchDragger.ON_END="ON_END";