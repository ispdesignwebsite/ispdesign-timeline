function TouchInfo(){function o(){f=!1}function n(){a&&l(e.onHold)}function l(o){null!=o&&o(e)}function t(o,n){var l=o.clientX-parseInt(n.style.left),t=o.clientY-parseInt(n.style.top);return l>0&&l<parseInt(n.style.width)&&t>0&&t<parseInt(n.style.height)}var c,u,e={},i=250,h=14,r=300,a=!1,f=!1,s=!1,O=0,d=0,k=0;return e.onDown=null,e.onMove=null,e.onUp=null,e.onClick=null,e.onOver=null,e.onOut=null,e.onHold=null,e.touch=null,e.clickOrHold=!1,e.clickOrUp=!1,e.clickWithinBounds=!0,e.listenOn=null,e.removeAllCallbacks=function(){e.onDown=e.onMove=e.onUp=e.onClick=e.onOver=e.onOut=e.onHold=null},e.handleBegan=function(){a=!0,f=!0,d=e.touch.clientX,k=e.touch.clientY,c&&clearTimeout(c),u&&clearTimeout(u),c=setTimeout(n,i),e.clickOrHold&&(u=setTimeout(o,r)),l(e.onDown)},e.handleMoved=function(){a=!1,O+=Math.abs(d-e.touch.clientX+k-e.touch.clientY),d=e.touch.clientX,k=e.touch.clientY,l(e.onMove),null===e.onOver&&null===e.onOut||(s?t(e.touch,e.touch.target)||(s=!1,l(e.onOut)):t(e.touch,e.touch.target)&&(s=!0,l(e.onOver)))},e.handleEnded=function(){var o=!1;e.clickOrUp?f&&O<h?(o=!0,l(e.onClick)):l(e.onUp):(l(e.onUp),f&&O<h&&(o=!0,l(e.onClick))),e.clickWithinBounds&&!o&&t(e.touch,e.touch.target)&&l(e.onClick),s=!1,O=0,a=!1},e}TouchInfo._objectPool=[],TouchInfo.getInfo=function(o,n,l,t,c){var u=0!==TouchInfo._objectPool.length?TouchInfo._objectPool.pop():new TouchInfo;return u.touch=o,u.clickOrHold=n,u.clickOrUp=l,u.clickWithinBounds=t,u.listenOn=c,u},TouchInfo.pool=function(o){o.removeAllCallbacks(),o.touch=null,o.listenOn=null,TouchInfo._objectPool.push(o)},TouchInfo.touches=function(o,n){var l=n.globalToLocal(new Point(o.globalX,o.globalY)),t=n.hitTest(l,!0);return!!t};