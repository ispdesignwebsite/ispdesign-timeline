function SearchManager(){function n(n){for(var e=n,t=null;null!==e;){if("function"==typeof e.getAttribute&&(t=e.getAttribute("data-path"),t))return e;e=e.parentNode}return n}function e(n,e){function t(n){for(var l=n.children,u=l.length,a=null,o=null,i=0;i<u;i+=1)a=l[i],-1!==e.indexOf(a.nodeName)&&(o=a.innerHTML,r.push({value:o.toLowerCase(),node:a,l:o.length})),t(a)}var r=[];return t(n),r}var t={},r=null;return t.populate=function(n,t){r=e(n,t)},t.search=function(e){if(null===e||e.length<2)return[];e=e.toLowerCase();for(var t=r.length,l=null,u=null,a=[],o=0;o<t;o+=1)if(l=r[o],u=l.value,-1!==u.indexOf(e)){var i=l;if(i.parent||(i.parent=n(l.node)),a.push(i),"t"===i.node.getAttribute("data-in-search"))continue;for(var f=a.length,h=null,c=[i],p=0;p<f;p+=1)h=a[p],h.parent===i.parent&&c.push(h);for(;c.length>2;){var d=999999999999,g=-1,v=-1;f=c.length;for(p=0;p<f;p+=1)h=c[p],v=h.l,v<d&&(d=v,g=p);-1!==g&&(a.splice(a.indexOf(c[g]),1),c.splice(g,1))}}return a},t}