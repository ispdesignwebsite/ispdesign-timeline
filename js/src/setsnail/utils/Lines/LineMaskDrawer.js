function LineMaskDrawer(){function e(){LineMaskShape.OFFSET_Y=window.event.clientY/30%defaultOffset-.5*defaultOffset,o.clearRect(0,0,r.width,r.height);for(var e=i.length,t=0;t<e;t++)i[t].render(o)}function t(){for(var e=i.length,t=9999,n=0;n<e;n++)i[n].setSize(r.width,r.height),i[n].getScale()<t&&(t=i[n].getScale());var u=0,f=0;for(n=0;n<e;n++){i[n].scale=t;var s=i[n].getScaledWidth(),l=i[n].getScaledHeight();s>u&&(u=s),l>f&&(f=l)}r.width=u,r.height=f,TweenMax.set(r,{x:.5*a-.5*u,y:.5*c-.5*f}),o.clearRect(0,0,u,f);for(n=0;n<e;n++)i[n].render(o)}var n=document.createElement("div");n.style.position="absolute",CSS.makeUnselectable(n);var r=document.createElement("canvas");r.style.position="absolute",r.width=400,r.height=400,n.appendChild(r);var i=[],o=r.getContext("2d"),a=200,c=200;return n.addGroup=function(e){i.push(e),t()},n.setSize=function(e,i){a=e,c=i,r.width=a,r.height=c+30,TweenMax.set(n,{width:a,height:c}),t()},n.getWidth=function(){return a},n.getHeight=function(){return c},n.getGroupAt=function(e){return i[e]},n.numOfGroups=function(){return i.length},n.getCanvasOffset=function(){return{x:r._gsTransform.x,y:r._gsTransform.y}},n.addMouseEffect=function(){document.addEventListener("mousemove",e)},n.kill=function(){document.removeEventListener("mousemove",e)},n}function LineMaskGroup(e,t,n,r,i){function o(){h=l=0;for(var e=d.length,t=0;t<e;t++){var n=d[t],r=n.x+n.getWidth();r>l&&(l=r);var i=n.y+n.getHeight();i>h&&(h=i)}}function a(e,t,n,r){e=Math.floor(e),t=Math.floor(t),r.beginPath(),r.moveTo(e,t-.5*c.thickness),r.lineTo(e+n,t-.5*c.thickness),r.lineWidth=c.thickness,r.strokeStyle=c.color,r.stroke()}var c={};c.spacing=e,c.thickness=t,c.offset=n,c.deltaX=0,c.deltaY=0,c.color=null!=r?r:"#f00",c.scale=1;var u,f,s,l=10,h=10,d=null!=i?i:[];return c.addShape=function(e){d.push(e),o()},c.numOfShapes=function(){return d.length},c.getShapeAt=function(e){return d[e]},c.setSize=function(e,t){u=e,f=t},c.getScale=function(){var e=u/l,t=f/h;return e<t?e:t},c.getScaledWidth=function(){return l*c.scale},c.getScaledHeight=function(){return h*c.scale},c.render=function(e){e;for(var t=c.spacing+c.thickness,r=d.length,i=Math.floor(f/t),o=n,u=0;u<i;u++){for(var l=0;l<r;l++){var h=d[l];h.lineScale=c.scale,s=h.getLineAt(o),null!=s&&a(s.x,s.y,s.length,e)}o+=t}},c.offsetEffect=function(e,t){},c}