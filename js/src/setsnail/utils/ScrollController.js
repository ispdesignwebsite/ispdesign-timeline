function ScrollController(){function e(e){i.dispatchEvent(ScrollController.ON_OVERSCROLLING_TOP)}function l(e){i.dispatchEvent(ScrollController.ON_OVERSCROLLING_BOT)}function t(){if(null!==a){if(S<Assets.RESIZE_MANAGER.getWindowWidth())return a.deactivate(),void a.end();a.activate(),O&&(O.bounds.x=-S+Assets.RESIZE_MANAGER.getWindowHeight(),O.bounds.width=S-Assets.RESIZE_MANAGER.getWindowHeight()),a.end()}else Assets.SCROLL_LAYER.style.height=S+"px"}function n(e){d=!1,L.x=i.currentScroll.x,L.y=i.currentScroll.y,i.dispatchEvent(ScrollController.ON_SCROLL_START)}function o(e){i.currentScroll.y=-E.aniGetX(),!1===d&&Math.abs(i.currentScroll.y-L.y)>200&&(d=!0,i.dispatchEvent(ScrollController.ON_200_PX_SCROLLED)),i.dispatchEvent(ScrollController.ON_SCROLL_MOVE)}function r(e){i.dispatchEvent(ScrollController.ON_SCROLL_STOP)}function c(e){var l=-1!=u?u:i.scrollSpeed,t=null!=R?R:Expo.easeOut;_=!0;var n=window.pageYOffset-i.currentScroll.y;Math.abs(n)>1e3&&i.dispatchEvent(ScrollController.ON_200_PX_SCROLLED),TweenMax.killTweensOf(i.currentScroll),TweenMax.to(i.currentScroll,l,{y:window.pageYOffset,onUpdate:function(){i.dispatchEvent(ScrollController.ON_SCROLL_MOVE)},onComplete:function(){_=!1,i.dispatchEvent(ScrollController.ON_SCROLL_EASE_STOP)},roundProps:["y"],ease:t}),u=-1,R=null}ScrollController.ON_SCROLL_START="ON_SCROLL_START",ScrollController.ON_SCROLL_MOVE="ON_SCROLL_MOVE",ScrollController.ON_SCROLL_STOP="ON_SCROLL_STOP",ScrollController.ON_SCROLL_EASE_STOP="ON_SCROLL_EASE_STOP",ScrollController.ON_200_PX_SCROLLED="ON_200_PX_SCROLLED",ScrollController.ON_OVERSCROLLING_TOP="ON_OVERSCROLLING_TOP",ScrollController.ON_OVERSCROLLING_BOT="ON_OVERSCROLLING_BOT";var i=new EventDispatcher,s=null,S=0;i.currentScroll={x:0,y:0};var E=null,O=null,a=null,_=!1,L={x:0,y:0},d=!1;ScrollController.DEBUG_TOUCH_ON_DESKTOP=!1,ScrollController.DEFAULT_SCROLL_SPEED=.5,i.scrollSpeed=ScrollController.DEFAULT_SCROLL_SPEED,i.init=function(i){if(s=i,!0===BrowserDetect.TABLET||!0===BrowserDetect.MOBILE||!0===ScrollController.DEBUG_TOUCH_ON_DESKTOP){E=document.createElement("div"),E.style.width="0px",E.style.height="0px",AnimationUtils.apply(E),E.aniDisableRender(),_basic=new DragBasic,_basic.lockY=!0;var _=new DragEase;_.time=2,_.distance=1.5,_.ease=Expo.easeOut,_.onStart(n),_.onMove(o),_.onEnd(r);var L=new Rectangle(0,-S+Assets.RESIZE_MANAGER.getWindowHeight(),window.innerWidth,S);O=new DragBounds(L),O.easeDist=4,O.boundsEase=.4,O.useItemsSize=!1,a=TouchDragger.add(E,[_basic,_,O],[s],!1),a.enable3DTransform()}else window.addEventListener("scroll",c),window.addEventListener("mousewheel",function(t){t.wheelDelta>0&&window.pageYOffset<=0?(e(t.wheelDelta),t.preventDefault()):t.wheelDelta<0&&window.pageYOffset>=Math.floor(S-Assets.RESIZE_MANAGER.getWindowHeight())&&(l(t.wheelDelta),t.preventDefault())},!1);Assets.RESIZE_MANAGER.addEventListener(ResizeEvents.RESIZE,t)},i.disableScroll=function(){BrowserDetect.TABLET||ScrollController.DEBUG_TOUCH_ON_DESKTOP?_basic.lockY=!0:window.removeEventListener("scroll",c)},i.enableScroll=function(){BrowserDetect.TABLET||ScrollController.DEBUG_TOUCH_ON_DESKTOP?_basic.lockY=!1:(window.addEventListener("scroll",c),c())},i.setPageHeight=function(e){var l=Assets.RESIZE_MANAGER.getWindowHeight()-Assets.RESIZE_MANAGER.getWindowWidth();S=e+l,t()},i.scrollToTop=function(e,l){a?(E.aniSetY(0),o()):(u=null!=e?e:-1,R=l,window.scrollTo(0,0))};var u=-1,R=null;return i.scrollTo=function(e,l,t){a?(E.aniSetX(e),o()):(u=null!=l?l:-1,R=t,null==t&&(i.currentScroll.y=e),window.scrollTo(0,e))},i.getScrollRatio=function(){return i.currentScroll.y/(S-Assets.RESIZE_MANAGER.getWindowHeight())},i.getPageHeight=function(){return S},i.scrollToBottom=function(e){TweenMax.to(i.currentScroll,.6,{y:S-Assets.RESIZE_MANAGER.getWindowHeight(),onUpdate:function(){i.dispatchEvent(ScrollController.ON_SCROLL_MOVE)},onComplete:e,ease:Expo.easeIn})},i.isDragging=function(){return!!a&&a.isDragging()},i.isScrolling=function(){return _},i}