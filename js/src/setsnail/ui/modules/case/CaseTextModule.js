function CaseTextModule(e){function t(){if(null!=T&&null!=T){var e=9,t=(u-2*e)*c;null!=x&&(x.setSize(t,T*f),TweenMax.set(x,{x:e,y:T-SiteGuides.OFFSET_BOTOM-x.getTextInstance().offsetHeight+2*Text.getOffsetY(x.getTextInstance())}))}}function n(){var t=ContentManager.getChildByAttr(e,"name","top");null!=t&&(g=new TextArea(t.innerHTML,Text.getNewReg(13)),g.style.color=UIColors.FONT_DARK,g.init(),h.push(g),a.appendChild(g))}function l(){var t=ContentManager.getChildByAttr(e,"name","mid");null!=t&&(M=new TextArea(t.innerHTML,Text.getNewReg(13)),M.style.color=UIColors.FONT_DARK,M.init(),h.push(M),a.appendChild(M))}function r(){var t=ContentManager.getChildByAttr(e,"name","bot");null!=t&&(x=new TextArea(t.innerHTML,Text.getNewReg(13)),x.style.color=UIColors.FONT_DARK,x.init(),h.push(x),a.appendChild(x))}function i(){null==s&&(s=new TextAreaModel);for(var e=h.length,n=o(h),l=0;l<e;l++){var r=TextAreaModel.MODE_LISTEN;d==TextAreaModel.MODE_CONTROL&&l==n&&(r=TextAreaModel.MODE_CONTROL),h[l].addModel(s,r)}null!=x&&s.addEventListener(TextAreaModel.EVENT_UPDATE,t)}function o(e){for(var t=0,n=-1,l=e.length,r=0;r<l;r++){var i=e[r].getTextInstance().innerHTML;i.length>t&&(t=i.length,n=r)}return n}var a=Snail.extend(new Module);a.style.position="absolute",a.style.backgroundColor=UIColors.WHITE;var u,T,s,d,g,x,M,f,c=1,h=[];return a.init=function(){var t=e.getAttribute("data-width-scale");null!=t&&(c=t),n(),l(),r()},a.resize_desktop=function(e,n){u=.2*e,u<200&&(u=200),T=n,TweenMax.set(a,{width:u,height:T}),f=.3;var l=9,r=(u-2*l)*c;null!=g&&(g.setSize(r,T*f),TweenMax.set(g,{x:l,y:SiteGuides.OFFSET_TOP})),null!=M&&(M.setSize(r,T*f),TweenMax.set(M,{x:l,y:SiteGuides.getCenterOffset()})),t()},a.getWidth=function(){return u},a.kill=function(){null==s&&null==x||s.removeEventListener(TextAreaModel.EVENT_UPDATE,t)},a.getNumOfChars=function(){for(var e=h.length,t=0,n=0;n<e;n++)t+=h[n].getTextInstance().innerHTML.length;return t},a.setModel=function(e,t){s=e,d=t,i()},a}