function CasesInfoBox(e){function t(){for(var e=Assets.SCROLL_CONTROLLER.getScrollRatio()*(_numOfCases-1),t=0;t<_numOfCases;t++){e<t?0:e>t+1?1:e-t,s[t].setRatio(e)}}function n(){_numOfCases=e.length;for(var t=0;t<_numOfCases;t++){var n=new CaseInfo(e[t][0],t);n.init(),s.push(n),o.appendChild(n)}}var o=document.createElement("div");o.style.position="absolute",o.style.backgroundColor=UIColors.WHITE;var a=CasesInfoBox.MODE_HORRIZONTAL,s=[],i=0,r=0;return o.init=function(){n(),Assets.SCROLL_CONTROLLER.addEventListener(ScrollController.ON_SCROLL_MOVE,t),t()},o.setMode=function(e){a=e;for(var t=0;t<_numOfCases;t++)s[t].setMode(a)},o.getCurrentModeWidth=function(){return 60},o.kill=function(){Assets.SCROLL_CONTROLLER.removeEventListener(ScrollController.ON_SCROLL_MOVE,t)},o.setSize=function(e,t){i=e,r=t;for(var n=0;n<_numOfCases;n++)s[n].setSize(i,r);TweenMax.set(o,{width:i,height:r})},o.getWidth=function(){return i},o}function CaseInfo(e,t){function n(){s.setSize(f,C)}function o(){var t=ContentManager.getChildByAttr(e,"name","headline");if(null!=t){i=document.createElement("div"),i.style.position="absolute";var n=Text.getNewLight(23);n.innerHTML=t.innerHTML,n.style.color=UIColors.DARK,n.style.whiteSpace="nowrap",i.text=n,i.appendChild(n),s.appendChild(i)}}function a(){r=new CaseSmallInfo(e),s.appendChild(r),r.onAllTextReady(n)}var s=document.createElement("div");s.style.position="absolute",s.style.backgroundColor=UIColors.WHITE,s.y;var i,r,l=0,O=CasesInfoBox.MODE_HORRIZONTAL,f=0,C=0;return s.init=function(){o(),a()},s.setMode=function(e){switch(O=e,O){case CasesInfoBox.MODE_HORRIZONTAL:TweenMax.set(i,{rotation:0}),TweenMax.set(r,{rotation:0});break;case CasesInfoBox.MODE_VERTICAL:TweenMax.set(i,{rotation:-90}),TweenMax.set(r,{rotation:-90})}s.setSize(f,C)},s.setSize=function(e,t){if(f=e,C=t,TweenMax.set(s,{width:f,height:C}),null!=i)switch(O){case CasesInfoBox.MODE_HORRIZONTAL:var n=null==s.y?SiteGuides.getCenterOffset():s.y;TweenMax.set(i,{rotation:0,x:10,y:n-Text.getOffsetY(i.text)}),TweenMax.set(r,{x:10,y:C-SiteGuides.OFFSET_BOTOM-39});break;case CasesInfoBox.MODE_VERTICAL:TweenMax.set(i,{rotation:-90,x:10-Text.getOffsetY(i.text),y:C-SiteGuides.OFFSET_BOTOM}),TweenMax.set(r,{x:10,y:SiteGuides.OFFSET_BOTOM+39+r.getWidth()+10})}r.style.display=C<380?"none":"inline"},s.setRatio=function(e){l=MathUtils.ratioFromRatio(t-.5,t+.5,e);var n=2*l;l=n;var o=10;switch(n>1?(l=2-n,o=30):o=-30,l=l<=1?Quad.easeOut.getRatio(l):Quad.easeIn.getRatio(l-1),O){case CasesInfoBox.MODE_HORRIZONTAL:TweenMax.set(r,{x:10,y:C-SiteGuides.OFFSET_BOTOM-39-.5*o*(n-1)}),TweenMax.set(i,{x:10+o*(n-1)});break;case CasesInfoBox.MODE_VERTICAL:TweenMax.set(i,{x:10-Text.getOffsetY(i.text),y:C-SiteGuides.OFFSET_BOTOM-.5*o*(n-1)}),TweenMax.set(r,{x:10,y:SiteGuides.OFFSET_BOTOM+39+r.getWidth()+10+.5*o*(n-1)})}s.style.opacity=l},s}function CaseSmallInfo(e){function t(){var t=0,a=14,s=n("Client:",t,0),i=n(ContentManager.getChildByAttr(e,"name","client").innerHTML,t,50);t+=a;var r=n("Project:",t,0),l=n(ContentManager.getChildByAttr(e,"name","project").innerHTML,t,50);t+=a;var O=n("Year:",t,0),f=n(ContentManager.getChildByAttr(e,"name","year").innerHTML,t,50);o.appendChild(s),o.appendChild(r),o.appendChild(O),o.appendChild(i),o.appendChild(l),o.appendChild(f)}function n(e,t,n){var o=Text.getNewReg(13);return TweenMax.set(o,{x:n,y:t-Text.getOffsetY(o)}),o.style.color=UIColors.FONT_MED_ON_WHITE,o.style.whiteSpace="nowrap",o.innerHTML=e,a.push(o),o}var o=document.createElement("div");o.style.position="absolute";var a=[];return o.onAllTextReady=function(e){Text.listenForSize(a,e)},o.getWidth=function(){for(var e=a.length,t=0,n=0;n<e;n++){var o=a[n].offsetWidth;o>t&&(t=o)}return t},t(),o}CasesInfoBox.MODE_HORRIZONTAL="horrizontal",CasesInfoBox.MODE_VERTICAL="vertical";