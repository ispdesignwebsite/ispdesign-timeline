function HomeStory(e,t,n){function o(){for(var e=B.length,t=M,n=1-A,o=1/e,i=0;i<e;i++){var a=MathUtils.ratioFromRatio(1-o*(i+1),1-o*i,n);B[i].setRatioNoOffset(a,!1),TweenMax.set(B[i],{x:t._gsTransform.x-B[i].getWidth()}),t=B[i]}}function i(){null!=M.onStoryClick&&M.onStoryClick(t)}function a(e){if(e||A!=R){H&&W&&(A=1);var t=f-u,n=t*A,o=9,i=2*o,a=SiteGuides.getCenterOffset()+125,r=.51*(u-i),s=_height-a,l=Math.ceil(r+(s-r)*A);TweenMax.set(E,{x:n+o,y:SiteGuides.OFFSET_TOP-Text.getOffsetY(E)-40*Math.cos(A*Math.PI+.5*Math.PI),width:u-i});var g=ColorUtils.interpolateRGB(b,D,A);if(E.style.color="rgb("+g.r+","+g.g+","+g.b+")",TweenMax.set(O,{x:n+o,y:SiteGuides.getCenterOffset()-Text.getOffsetY(O),width:u-i}),U>1){var h=Back.easeOut.getRatio(MathUtils.ratioFromRatio(.1,.8,A,!0)),d=Back.easeOut.getRatio(MathUtils.ratioFromRatio(.3,1,A,!0));null!=N&&null!=v&&(TweenMax.set(N,{y:a+40-72*h,x:o}),TweenMax.set(v,{y:a+40-72*d,x:o+32}))}TweenMax.set(x,{y:a,x:o}),x.setSize(M.getWidth()-i,l),TweenMax.set(m,{x:n+o,y:0,width:u-i,height:1e3});var c=0,T=u-i-10,C=0;BrowserDetect.MOBILE&&u>_height&&(c=Math.floor(.5*u),T-=c),BrowserDetect.MOBILE&&(C=-20),TweenMax.set(w,{x:c,y:130-30*Math.cos(2*A*Math.PI-1)+C,width:T,alpha:2*A-1}),TweenMax.set(p,{x:n+o,y:a+l+o,width:u-i,alpha:1-2*A});var y=.5*(_height-a-r-o);y<100&&(y=100),p.setSize(u-i,y),TweenMax.set(I,{x:n+o,y:a-Text.getOffsetY(I)-i,width:u-i});var L=-40;BrowserDetect.MOBILE&&(L=-30),TweenMax.set(_,{x:n+o,y:SiteGuides.getCenterOffset()-Text.getOffsetY(_)+L,width:u-i}),R=A}}function r(){y=document.createElement("div"),y.style.position="absolute",y.style.backgroundColor=UIColors.LINE_ON_WHITE,M.appendChild(y)}function s(){U<=1||(N=new RetinaImage("assets/images/logo/arrow_short.png",Assets.RETINA_HANDLE),v=new RetinaImage("assets/images/logo/arrow_short.png",Assets.RETINA_HANDLE),N.style.cursor="pointer",v.style.cursor="pointer",Touchable.apply(N),Touchable.apply(v),N.onClick(function(){x.nextImg()}),v.onClick(function(){x.prevImg()}),N.init(),v.init(),N.getContent().style.transform="rotatey(180deg)",G.appendChild(N),G.appendChild(v),M.appendChild(G))}function l(){for(var t=ContentManager.getChildByAttr(e,"name","images"),n=ContentManager.getChildrenByAttr(t,"name","image"),o=[],i=n.length,a=0;a<i;a++)o.push(n[a].innerHTML);x=new ImageSlider(o),M.appendChild(x),x.init()}function g(){E=Text.getNewMed(95),E.innerHTML=t,E.style.color=UIColors.FONT_MED_ON_WHITE}function h(){var t=ContentManager.getChildByAttr(e,"name","date");_=Text.getNewLight(13),_.innerHTML=t.innerHTML,_.style.color=UIColors.FONT_DARK,M.appendChild(_)}function d(){var t=ContentManager.getChildByAttr(e,"name","headline");O=Text.getNewReg(23),O.innerHTML=t.innerHTML,O.style.color=UIColors.FONT_DARK,M.appendChild(O)}function c(){var t=ContentManager.getChildByAttr(e,"name","body"),o=Text.getNewReg(13);o.lineHeightScale=14/13,w=new TextArea(t.innerHTML,o),w.init(n,TextAreaModel.MODE_LISTEN),w.style.color=UIColors.FONT_MED_ON_WHITE,m=document.createElement("div"),m.style.position="absolute",m.appendChild(w),M.appendChild(m)}function T(){var t=ContentManager.getChildByAttr(e,"name","body"),o=Text.getNewReg(13);o.lineHeightScale=14/13,p=new TextArea(t.innerHTML,o),p.init(n,F),p.style.color=UIColors.FONT_MED_ON_WHITE,M.appendChild(p)}function C(){var t=ContentManager.getChildByAttr(e,"name","image-tag-name");I=Text.getNewReg(13),I.innerHTML=t.innerHTML,I.style.color=UIColors.FONT_DARK,M.appendChild(I)}var M=document.createElement("div");M.style.position="absolute",M.style.backgroundColor=ColorUtils.WHITE,M.onStoryClick,Touchable.apply(M);var f,u,y,x,p,w,m,O,I,_,E,N,v,A=1,R=-1,L=0,H=!1,B=[],S=!1,U=0,D=ColorUtils.hex2rgb(UIColors.FONT_DARK),b=ColorUtils.hex2rgb(UIColors.LINE_ON_WHITE),F=TextAreaModel.MODE_LISTEN,W=!1,k=0,G=document.createElement("div");return G.style.position="absolute",M.setBodyModelController=function(){F=TextAreaModel.MODE_CONTROL},M.init=function(){M.onClick(i);var t=ContentManager.getChildByAttr(e,"name","images"),n=ContentManager.getChildrenByAttr(t,"name","image");U=n.length,r(),BrowserDetect.MOBILE||s(),l(),d(),C(),c(),T(),h(),g()},M.setExpandedWidth=function(e){f=e},M.setCollapsedWidth=function(e){u=e},M.setHeight=function(e){_height=e,M.style.height=_height+"px",TweenMax.set(y,{width:1,x:-1,height:_height})},M.getWidth=function(){var e=f-u;return u+e*A},M.setRatioOffset=function(e){L=e},M.setRatioNoOffset=function(e,t){A=e,H?e<0?(A+=1,W=!1):W=!0:W=!1,A<=0?A=0:A>=1?(A=1,S&&e>0&&o()):S&&e>0&&o(),M.style.width=M.getWidth()+"px",a(t)},M.setRatio=function(e,t){k=e-L-1,k<.5&&k>-.5?x.setActive():x.setInactive(),M.setRatioNoOffset(MathUtils.ratioFromRatio(L,L+1,e,!H),t)},M.setLastStory=function(){H=!0},M.reverseStories=function(e){B=e,S=B.length>0},M}